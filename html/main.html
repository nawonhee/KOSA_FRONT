<!DOCTYPE html>
<html>
    <head>
        <title>Kosabucks Korea</title>
        <style>
            *{
                box-sizing: border-box;
            }
            header{
                background-color: #FAECC5; 
                padding:20px;
                width: 10%;
                height:150px;
                float:left;
            }
            header>img{
                padding : 10px;
            }
            nav{
                background-color: #FAECC5; 
                text-align: center;
                width:90%;
                height:150px;
                float:left;
            }
            nav>ul{
                list-style-type: none;
                padding-left:0px;
                margin-top:70px;
            }
            nav>ul>li{
                display: inline-block;
                margin-left: 30px;
            } 
            nav>ul>li>a{
                text-decoration: underline;
            }
            section{
                height:500px;
                text-align: center;
            }
            footer{
                height:100px;
                padding:20px;
                text-align: center;
                font-size: 12px;
                background-color: #000000;
                color: white;
                
            }
        </style>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
        <script>
            
            function ajaxHandler(method, u, target){
                console.log(u)
                
                // $.ajax({
                //     url: u,
                //     method: method,
                //     success: (responseText)=>{
                //         target.html(responseText)
                //     },
                //     error: ()=>{
                //         alert('응답실패')
                //     }
                // })
                if(method == 'GET'){
                    target.load(u, function( response, status, xhr){
                        if(status=="error"){
                            alert(xhr.status+xhr.statusText)
                        }
                    })
                }
            }


            //$(document).ready()
            $(() => {
                //DOM트리에서 section 객체 찾기
                const sectionObj = document.querySelector('section')
                const $sectionObj = $('section')

                console.log("---자바스크립트 객체---")
                console.log(sectionObj)

                console.log("---jQuery 객체---")
                console.log($sectionObj)
                console.log(sectionObj===$sectionObj)
                console.log(sectionObj===$sectionObj.get(0))

                //DOM트리에서 nav>ul>li>a객체들 찾기
                const menus = document.querySelectorAll('nav>ul>li>a')
                const $menus = $('nav>ul>li>a')

                
                $menus.click((e)=>{
                    //alert('메뉴클릭됨')
                    console.log(e.target.className)
                    //menu
                    switch(e.target.className){
                        case 'login':
                            ajaxHandler('GET', "./login.html", $sectionObj)
                            break
                        case 'signup':
                            ajaxHandler('GET','./signup.html', $sectionObj)
                            break
                        case 'logout':break
                        case 'productlist':
                            ajaxHandler('GET','./productlist.html', $sectionObj)
                            //ajaxHandler('GET','http://localhost:8888/back/productlistjson', $sectionObj)
                            break
                        case 'cartlist':break
                        case 'orderlist':break

                    }
                    e.preventDefault()
                })
            })
        </script>
    </head>
    <body>
        <header>
            <img src="../images/logo.png" alt="로고">
        </header>
        <nav>
            <!--메뉴들-->
            <ul>
                <li><a href="#" class ="login">로그인</a></li>
                <li><a href="#" class = "signup">가입</a></li>
                <li><a href="#" class = "logout">로그아웃</a></li>
                <li><a href="#" class = "productlist">상품목록</a></li>
                <li><a href="#" class="cartlist">장바구니목록</a></li>
                <li><a href="#" class="orderlist">주문목록</a></li>
            </ul>
        </nav>
        <section>
            Main입니다
        </section>
        <footer>
            사업자등록번호 : 201-81-21515 주식회사 에스씨케이컴퍼니 대표이사 : 손정현 TEL : 1522-3232 개인정보 책임자 : 이찬우 
            <br>
            ⓒ 2023 Starbucks Coffee Company. All Rights Reserved.
        </footer>
    </body>
</html>